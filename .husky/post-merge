#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ”„ Running post-merge hook..."

# Check if package.json or lockfile changed
changed_files="$(git diff-tree -r --name-only --no-commit-id ORIG_HEAD HEAD)"

if echo "$changed_files" | grep -E "package.json|pnpm-lock.yaml" > /dev/null; then
  echo "ðŸ“¦ Dependencies changed. Running pnpm install..."
  pnpm install
else
  echo "âœ¨ No dependency changes found."
fi

echo "âœ… Post-merge hook completed!"
